{"version":3,"file":"component---src-pages-index-js-368429ebf32b70e49abc.js","mappings":"qLASA,IAAMA,EAAW,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC5B,OACE,uBAAKC,UAAS,QAAUD,EAAV,gBACXD,EAASG,KAAI,SAAAC,GACZ,OACE,uBAAKF,UAAU,sCACb,gBAAC,EAAAG,KAAD,CAAMC,GAAE,UAVFC,EAUsBH,EAAKG,GATpCA,EAAGC,cAAcC,QAAQ,IAAK,MASaC,IAAKN,EAAKG,IAChD,uBAAKL,UAAU,aACb,yBACGE,EAAKO,MAAO,IACb,wBAAMT,UAAU,6BCnBR,SAACU,EAAMC,QAAuB,IAAvBA,IAAAA,EAAM,cAC/BD,aAAgBE,OACpBF,EAAO,IAAIE,KAAKF,IAGlB,IAAIG,EAAI,CACN,KAAMH,EAAKI,WAAa,EACxB,KAAMJ,EAAKK,UACX,KAAML,EAAKM,WACX,KAAMN,EAAKO,aACX,KAAMP,EAAKQ,aACX,KAAMC,KAAKC,OAAOV,EAAKI,WAAa,GAAK,GACzCO,EAAGX,EAAKY,mBAOV,IAAK,IAAIC,IALL,OAAOC,KAAKb,KACdA,EAAMA,EAAIJ,QACRkB,OAAOC,IACNhB,EAAKiB,cAAgB,IAAIC,OAAO,EAAIH,OAAOC,GAAGG,UAErChB,EACR,IAAIY,OAAO,IAAMF,EAAI,KAAKC,KAAKb,KACjCA,EAAMA,EAAIJ,QACRkB,OAAOC,GACc,IAArBD,OAAOC,GAAGG,OAAehB,EAAEU,IAAM,KAAOV,EAAEU,IAAIK,QAAQ,GAAKf,EAAEU,IAAIM,UAGvE,OAAOlB,EDNYmB,CAAW5B,EAAK6B,gBAfrC,IAAkB1B,OAgClBR,EAASmC,aAAe,CACtBjC,SAAU,eAGZ,S,iIEhCA,EANa,SAAC,GAAD,IAAGK,EAAH,EAAGA,GAAH,OACX,gBAAC,EAAAD,KAAD,CAAMH,UAAU,yCAAyCI,GAAIA,GAA7D,W,8BCmEF,EA5DkB,SAAC,GAKZ,IAAD,IAJJ6B,KACEC,EAGE,EAHFA,cAMIC,EAHF,EAFFC,iBAAoBC,MAIQpC,KAAI,qBAAGqC,QAElCC,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEV,UAAYS,EAAET,aAC/BW,MAAM,EAAG,GAEZ,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKC,IARG,CAAElC,MAAO,UASjB,gBAAC,IAAD,iBACA,gBAAC,IAAD,CAAeT,UAAU,QAAQ4C,SAAUV,EAAcW,QACzD,gBAAC,IAAD,qBACA,gBAAC,EAAD,CAAUzC,GAAG,cACb,gBAAC,IAAD,CAAa0C,SAAUZ,EAAca,cACrC,gBAAC,IAAD,aACA,gBAAC,EAAD,CAAU3C,GAAG,UACb,gBAAC,IAAD,CAAUN,SAAUqC","sources":["webpack://voeentech-frontend/./src/components/news-list.js","webpack://voeentech-frontend/./src/helpers/date-formatter.js","webpack://voeentech-frontend/./src/components/styled/more.js","webpack://voeentech-frontend/./src/pages/index.js"],"sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\nimport PropTypes from \"prop-types\"\nimport { formatDate } from \"~/helpers/date-formatter\"\n\nfunction newsSlug(id) {\n  return id.toLowerCase().replace(\"_\", \"-\")\n}\n\nconst NewsList = ({ newsList, gridCols }) => {\n  return (\n    <div className={`grid ${gridCols} gap-1 mb-10`}>\n      {newsList.map(news => {\n        return (\n          <div className=\"mb-1 shadow-lg bg-white rounded-md\">\n            <Link to={`/news/${newsSlug(news.id)}`} key={news.id}>\n              <div className=\"px-4 py-6\">\n                <p>\n                  {news.title}{\" \"}\n                  <span className=\"text-gray-400 float-right\">\n                    {formatDate(news.updatedAt)}\n                  </span>\n                </p>\n              </div>\n            </Link>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nNewsList.propTypes = {\n  newsList: PropTypes.array,\n  gridCols: PropTypes.string,\n}\n\nNewsList.defaultProps = {\n  gridCols: \"grid-cols-1\",\n}\n\nexport default NewsList\n","export const formatDate = (date, fmt = \"yyyy/MM/dd\") => {\n  if (!(date instanceof Date)) {\n    date = new Date(date)\n  }\n\n  var o = {\n    \"M+\": date.getMonth() + 1, // 月份\n    \"d+\": date.getDate(), // 日\n    \"h+\": date.getHours(), // 小时\n    \"m+\": date.getMinutes(), // 分\n    \"s+\": date.getSeconds(), // 秒\n    \"q+\": Math.floor((date.getMonth() + 3) / 3), // 季度\n    S: date.getMilliseconds(), // 毫秒\n  }\n  if (/(y+)/.test(fmt))\n    fmt = fmt.replace(\n      RegExp.$1,\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\n    )\n  for (var k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(fmt))\n      fmt = fmt.replace(\n        RegExp.$1,\n        RegExp.$1.length === 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length)\n      )\n  }\n  return fmt\n}\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nconst More = ({ to }) => (\n  <Link className=\"inline-block float-right text-gray-400\" to={to}>\n    MORE &gt;\n  </Link>\n)\n\nexport default More\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport ReactMarkdown from \"react-markdown\"\nimport Layout from \"~/components/layout\"\nimport PageHeading from \"~/components/styled/page-heading\"\nimport MoreLink from \"~/components/styled/more\"\nimport ProductList from \"~/components/product-list\"\nimport NewsList from \"~/components/news-list\"\nimport SEO from \"~/components/seo\"\n\nconst IndexPage = ({\n  data: {\n    cloudBaseHome,\n    allCloudBaseNews: { edges: newsList },\n  }\n}) => {\n  const seo = { title: \"Home\" }\n  const flatNewsList = newsList.map(({ node }) => node)\n  const latestNewsList = flatNewsList\n    .sort((a, b) => b.updatedAt - a.updatedAt)\n    .slice(0, 5)\n\n  return (\n    <Layout>\n      <SEO seo={seo} />\n      <PageHeading>ABOUT US</PageHeading>\n      <ReactMarkdown className=\"mb-10\" children={cloudBaseHome.about} />\n      <PageHeading>HOT PRODUCTS</PageHeading>\n      <MoreLink to=\"/products\" />\n      <ProductList products={cloudBaseHome.hotProducts} />\n      <PageHeading>NEWS</PageHeading>\n      <MoreLink to=\"/news\" />\n      <NewsList newsList={latestNewsList} />\n    </Layout>\n  )\n}\n\nexport const indexPageQuery = graphql`\n  query HomeQuery {\n    allCloudBaseNews {\n      edges {\n        node {\n          id\n          title\n          updatedAt\n        }\n      }\n    }\n    cloudBaseHome {\n      about\n      hotProducts {\n        title\n        slug\n        id\n        image {\n          localFile {\n            childImageSharp {\n              gatsbyImageData(\n                layout: FULL_WIDTH\n                placeholder: BLURRED\n                aspectRatio: 1.3\n              )\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default IndexPage\n"],"names":["NewsList","newsList","gridCols","className","map","news","Link","to","id","toLowerCase","replace","key","title","date","fmt","Date","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","S","getMilliseconds","k","test","RegExp","$1","getFullYear","substr","length","formatDate","updatedAt","defaultProps","data","cloudBaseHome","latestNewsList","allCloudBaseNews","edges","node","sort","a","b","slice","seo","children","about","products","hotProducts"],"sourceRoot":""}